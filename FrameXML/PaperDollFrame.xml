<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
    <Script file="PaperDollFrame.lua"/>
	
	<Texture name="Char-Stat-Bottom" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="169" y="46"/>	
		<TexCoords left="0.00390625" right="0.66406250" top="0.00781250" bottom="0.36718750"/>	
	</Texture>
	<Texture name="Char-Stat-Minimized" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="169" y="14"/>	
		<TexCoords left="0.00390625" right="0.66406250" top="0.38281250" bottom="0.49218750"/>	
	</Texture>
	<Texture name="Char-Stat-Top" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="169" y="9"/>	
		<TexCoords left="0.00390625" right="0.66406250" top="0.50781250" bottom="0.57812500"/>	
	</Texture>
	<Texture name="Char-RightSlot" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="50" y="44"/>	
		<TexCoords left="0.00390625" right="0.19921875" top="0.59375000" bottom="0.93750000"/>	
	</Texture>
	<Texture name="Char-Stat-Minus" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="7" y="3"/>	
		<TexCoords left="0.00390625" right="0.03125000" top="0.95312500" bottom="0.97656250"/>	
	</Texture>
	<Texture name="Char-LeftSlot" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="49" y="44"/>	
		<TexCoords left="0.20703125" right="0.39843750" top="0.59375000" bottom="0.93750000"/>	
	</Texture>
	<Texture name="Char-Corner-LowerRight" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="7" y="7"/>	
		<TexCoords left="0.40625000" right="0.43359375" top="0.59375000" bottom="0.64843750"/>	
	</Texture>
	<Texture name="Char-Corner-LowerLeft" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="7" y="7"/>	
		<TexCoords left="0.40625000" right="0.43359375" top="0.66406250" bottom="0.71875000"/>	
	</Texture>
	<Texture name="Char-Corner-UpperRight" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="7" y="7"/>	
		<TexCoords left="0.40625000" right="0.43359375" top="0.73437500" bottom="0.78906250"/>	
	</Texture>
	<Texture name="Char-Corner-UpperLeft" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="7" y="7"/>	
		<TexCoords left="0.40625000" right="0.43359375" top="0.80468750" bottom="0.85937500"/>	
	</Texture>
	<Texture name="Char-Stat-Plus" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="7" y="7"/>	
		<TexCoords left="0.40625000" right="0.43359375" top="0.87500000" bottom="0.92968750"/>	
	</Texture>
	<Texture name="Char-BottomSlot" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="42" y="53"/>	
		<TexCoords left="0.67187500" right="0.83593750" top="0.00781250" bottom="0.42187500"/>	
	</Texture>
	<Texture name="Char-Slot-Bottom-Right" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="7" y="54"/>	
		<TexCoords left="0.67187500" right="0.69921875" top="0.43750000" bottom="0.85937500"/>	
	</Texture>
	<Texture name="Char-Slot-Bottom-Left" file="Interface\CharacterFrame\Char-Paperdoll-Parts" virtual="true" >
		<Size x="6" y="54"/>	
		<TexCoords left="0.70703125" right="0.73046875" top="0.43750000" bottom="0.85937500"/>	
	</Texture>

	<Texture name="Char-Inner-Bottom" file="Interface\CharacterFrame\Char-Paperdoll-Horizontal" horizTile="true" virtual="true">
		<Size x="32" y="5"/>	
		<TexCoords left="0.00000000" right="1.00000000" top="0.06250000" bottom="0.37500000"/>	
	</Texture>
	<Texture name="Char-Inner-Top" file="Interface\CharacterFrame\Char-Paperdoll-Horizontal" horizTile="true" virtual="true">
		<Size x="32" y="5"/>	
		<TexCoords left="0.00000000" right="1.00000000" top="0.50000000" bottom="0.81250000"/>	
	</Texture>
	<Texture name="Char-Inner-Left" file="Interface\CharacterFrame\Char-Paperdoll-Vertical" vertTile="true" virtual="true">
		<Size x="5" y="32"/>	
		<TexCoords left="0.06250000" right="0.37500000" top="0.00000000" bottom="1.00000000"/>	
	</Texture>
	<Texture name="Char-Inner-Right" file="Interface\CharacterFrame\Char-Paperdoll-Vertical" vertTile="true" virtual="true">
		<Size x="5" y="32"/>	
		<TexCoords left="0.50000000" right="0.81250000" top="0.00000000" bottom="1.00000000"/>	
	</Texture>
	
	<Texture name="PaperDollFrameFlyoutTexture" file="Interface\PaperDollInfoFrame\UI-GearManager-Flyout" hidden="true" virtual="true"/>
    <Button name="PaperDollItemSlotButtonTemplate" inherits="ItemButtonTemplate" virtual="true">
		<Layers>
			<Layer level="OVERLAY">
				<Texture parentKey="ignoreTexture" file="Interface\PaperDollInfoFrame\UI-GearManager-LeaveItem-Transparent">
					<Size x="40" y="40"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Cooldown name="$parentCooldown" inherits="CooldownFrameTemplate"/>
			<Button name="$parentPopoutButton" parentKey="popoutButton" hidden="true">
				<Size>
					<AbsDimension x="16" y="32"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						PaperDollFrameItemPopoutButton_OnLoad(self);
					</OnLoad>
					<OnClick>
						PaperDollFrameItemPopoutButton_OnClick(self);
					</OnClick>
				</Scripts>
				<NormalTexture file="Interface\PaperDollInfoFrame\UI-GearManager-FlyoutButton"/>
				<HighlightTexture file="Interface\PaperDollInfoFrame\UI-GearManager-FlyoutButton"/>
			</Button>
		</Frames>
        <Scripts>
            <OnLoad>
				PaperDollItemSlotButton_OnLoad(self);
			</OnLoad>
            <OnEvent>
				PaperDollItemSlotButton_OnEvent(self, event, ...);
			</OnEvent>
			<OnShow>
				PaperDollItemSlotButton_OnShow(self);
			</OnShow>
			<OnHide>
				PaperDollItemSlotButton_OnHide(self);
			</OnHide>
			<OnClick>
				if ( IsModifiedClick() ) then
					PaperDollItemSlotButton_OnModifiedClick(self, button);
				else
					PaperDollItemSlotButton_OnClick(self, button);
				end
			</OnClick>
            <OnDragStart>
				PaperDollItemSlotButton_OnClick(self, "LeftButton");
			</OnDragStart>
            <OnReceiveDrag>
				PaperDollItemSlotButton_OnClick(self, "LeftButton");
			</OnReceiveDrag>
            <OnEnter>
				PaperDollItemSlotButton_OnEnter(self, motion);
			</OnEnter>
            <OnLeave>
				PaperDollItemSlotButton_OnLeave(self, motion);
			</OnLeave>
        </Scripts>
    </Button>
	<Button name="PaperDollItemSlotButtonLeftTemplate" inherits="PaperDollItemSlotButtonTemplate" virtual="true">
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="-1">
				<Texture name="$parentFrame" inherits="Char-LeftSlot">	
					<Anchors>
						<Anchor point="TOPLEFT" x="-4"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Button>
	<Button name="PaperDollItemSlotButtonRightTemplate" inherits="PaperDollItemSlotButtonTemplate" virtual="true">
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="-1">
				<Texture name="$parentFrame" inherits="Char-RightSlot">	
					<Anchors>
						<Anchor point="TOPRIGHT" x="4"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Button>
	<Button name="PaperDollItemSlotButtonBottomTemplate" inherits="PaperDollItemSlotButtonTemplate" virtual="true">
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="-1">
				<Texture name="$parentFrame" inherits="Char-BottomSlot">	
					<Anchors>
						<Anchor point="TOPLEFT" x="-4" y="8"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Button>
	<Button name="PaperDollFrameItemFlyoutButtonTemplate" inherits="ItemButtonTemplate" virtual="true">
		<Frames>
			<Cooldown name="$parentCooldown" parentKey="cooldown" inherits="CooldownFrameTemplate"/>
		</Frames>
		<Scripts>
			<OnEnter>
				PaperDollFrameItemFlyoutButton_OnEnter(self, motion);
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide();
				ResetCursor();
			</OnLeave>
			<OnClick>
				PaperDollFrameItemFlyoutButton_OnClick(self, button, down);
			</OnClick>
		</Scripts>
	</Button>	
	<Button name="PlayerTitleButtonTemplate" virtual="true">			
		<Size x="240" y="16"/>
		<Anchors>
			<Anchor point="RIGHT">
				<Offset x="-4" y="0"/>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BORDER">
				<Texture name="$parentCheck" file="Interface\Buttons\UI-CheckBox-Check" parentKey="check" hidden="true">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="8" y="0"/>
						</Anchor>
					</Anchors>
				</Texture>			
			</Layer>
		</Layers>
		<Scripts>
			<OnClick>	
				PlayerTitleButton_OnClick(self);
			</OnClick>
		</Scripts>		
		<ButtonText name="$parentTitleText" inherits="GameFontHighlightSmallLeft" justifyH="LEFT" parentKey="text">
					<Anchors>
			<Anchor point="LEFT" relativeTo="$parentCheck" relativePoint="RIGHT">
				<Offset x="3" y="0"/>
			</Anchor>
					</Anchors>
		</ButtonText>		
		<HighlightTexture file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar" alphaMode="ADD"/>	
	</Button>		
	<CheckButton name="GearSetButtonTemplate" inherits="PopupButtonTemplate" virtual="true">
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnClick>
				GearSetButton_OnClick(self, button, down);
			</OnClick>
			<OnEnter>
				GearSetButton_OnEnter(self);
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide();
			</OnLeave>
			<OnDragStart>
				if ( self.name and self.name ~= "" ) then
					PickupEquipmentSetByName(self.name);
				end
			</OnDragStart>
		</Scripts>
	</CheckButton>
	
	<CheckButton name="GearSetPopupButtonTemplate" inherits="SimplePopupButtonTemplate" virtual="true">
		<Scripts>
			<OnLoad>
				local name = self:GetName();
				self.icon = _G[name .. "Icon"];
				self.name = _G[name .. "Name"];
			</OnLoad>
			<OnClick>
				GearSetPopupButton_OnClick(self, button, down);
			</OnClick>
		</Scripts>
		<NormalTexture name="$parentIcon" nonBlocking="true">
			<Size>
				<AbsDimension x="36" y="36"/>
			</Size>
			<Anchors>
				<Anchor point="CENTER">
					<Offset>
						<AbsDimension x="0" y="-1"/>
					</Offset>
				</Anchor>
			</Anchors>
		</NormalTexture>
		<HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
		<CheckedTexture alphaMode="ADD" file="Interface\Buttons\CheckButtonHilight"/>
	</CheckButton>	
	
    <Frame name="StatFrameTemplate" virtual="true">
        <Size>
            <AbsDimension x="104" y="13"/>
        </Size>
        <Layers>
            <Layer level="BACKGROUND">
                <FontString name="$parentLabel" inherits="GameFontNormalSmall" parentKey="Label">
                    <Anchors>
                        <Anchor point="LEFT"/>
                    </Anchors>
                </FontString>
				<FontString name="$parentStatText" inherits="GameFontHighlightSmall" justifyH="RIGHT" parentKey="Value">
					<Anchors>
						<Anchor point="RIGHT"/>
					</Anchors>
				</FontString>
            </Layer>
        </Layers>
		<Scripts>
			<OnEnter>
				PaperDollStatTooltip(self, "player");
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide();
			</OnLeave>
		</Scripts>
    </Frame>
	<Frame name="StatGroupTemplate" virtual="true">
		<Size x="169" y="0"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentBgTop" inherits="Char-Stat-Top" parentKey="BgTop">
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgBottom" inherits="Char-Stat-Bottom" parentKey="BgBottom">
					<Anchors>
						<Anchor point="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgMiddle" file="Interface\CharacterFrame\Char-Stat-Middle" parentKey="BgMiddle" vertTile="true">
					<Size x="169" y="8"/>
					<TexCoords left="0.00390625" right="0.66406250" top="0.00000000" bottom="1.00000000"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parentBgTop" relativePoint="BOTTOMLEFT" x="1"/>
						<Anchor point="BOTTOMLEFT" relativeTo="$parentBgBottom" relativePoint="TOPLEFT"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgMinimized" inherits="Char-Stat-Minimized" parentKey="BgMinimized" hidden="true">
					<Size x="169" y="18"/>
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
				</Texture>
				<FontString name="$parentNameText" inherits="GameFontHighlight" justifyH="LEFT" parentKey="NameText">
					<Anchors>
						<Anchor point="TOPLEFT" x="15" y="-3"/>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="ARTWORK">
				<Texture name="$parentCollapsedIcon" parentKey="CollapsedIcon" inherits="Char-Stat-Plus" hidden="true">
					<Anchors>
						<Anchor point="TOPLEFT" x="5" y="-5"/>
					</Anchors>
				</Texture>
				<Texture name="$parentExpandedIcon" parentKey="ExpandedIcon" inherits="Char-Stat-Minus">
					<Anchors>
						<Anchor point="TOPLEFT" x="5" y="-7"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentToolbar">
				<Anchors>
					<Anchor point="TOPLEFT"/>
					<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" x="0" y="-20"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForDrag("LeftButton");
					</OnLoad>
					<OnEnter>
						if (MOVING_STAT_CATEGORY == nil) then
							self.SortDownArrow:Show();
							self.SortUpArrow:Show();
						end
					</OnEnter>
					<OnLeave>
						if ( not self:IsMouseOver() and MOVING_STAT_CATEGORY ~= self:GetParent()) then
							self.SortDownArrow:Hide();
							self.SortUpArrow:Hide();
						end
					</OnLeave>
					<OnClick>
						if self:GetParent().collapsed then
							PaperDollFrame_ExpandStatCategory(self:GetParent());
							local categoryInfo = PAPERDOLL_STATCATEGORIES[self:GetParent().Category];
							if (categoryInfo) then
								SetCVarBitfield("statCategoriesCollapsed", categoryInfo.id, false);
							end
						else
							PaperDollFrame_CollapseStatCategory(self:GetParent());
							local categoryInfo = PAPERDOLL_STATCATEGORIES[self:GetParent().Category];
							if (categoryInfo) then
								SetCVarBitfield("statCategoriesCollapsed", categoryInfo.id, true);
							end
						end
					</OnClick>
					<OnDragStart>
						PaperDollStatCategory_OnDragStart(self:GetParent());
						self.SortDownArrow:Show();
						self.SortUpArrow:Show();
					</OnDragStart>
					<OnDragStop>
						PaperDollStatCategory_OnDragStop(self:GetParent());
						if (self:IsMouseOver()) then
							self.SortDownArrow:Show();
							self.SortUpArrow:Show();
						else
							self.SortDownArrow:Hide();
							self.SortUpArrow:Hide();
						end
					</OnDragStop>
				</Scripts>
				<Frames>
					<Button name="$parentSortUpArrow" parentKey="SortUpArrow" hidden="true">
						<Size x="16" y="8"/>
						<Anchors>
							<Anchor point="TOPRIGHT" x="-1" y="-1"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture name="$parentArrow" file="StatSortArrows" parentKey="Arrow" alpha="0.4" setAllPoints="true">	
									<TexCoords left="0" right="1" top="0" bottom="0.5"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnEnter>
								self:Show();
								self.Arrow:SetAlpha(0.6);
								self:GetParent().SortDownArrow:Show();
							</OnEnter>
							<OnLeave>
								self.Arrow:SetAlpha(0.4);
								if ( not self:GetParent():IsMouseOver() ) then
									self:Hide();
									self:GetParent().SortDownArrow:Hide();
								end
							</OnLeave>
							<OnClick>
								Paperdoll_MoveCategoryUp(self:GetParent():GetParent());
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentSortDownArrow" parentKey="SortDownArrow" hidden="true">
						<Size x="16" y="8"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentSortUpArrow" relativePoint="BOTTOMLEFT"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture name="$parentArrow" file="StatSortArrows" parentKey="Arrow" alpha="0.4" setAllPoints="true">
									<TexCoords left="0" right="1" top="0.5" bottom="1"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnEnter>
								self:Show();
								self.Arrow:SetAlpha(0.6);
								self:GetParent().SortUpArrow:Show();
							</OnEnter>
							<OnLeave>
								self.Arrow:SetAlpha(0.4);
								if ( not self:GetParent():IsMouseOver() ) then
									self:Hide();
									self:GetParent().SortUpArrow:Hide();
								end
							</OnLeave>
							<OnClick>
								Paperdoll_MoveCategoryDown(self:GetParent():GetParent());
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Button>
			<Frame name="$parentStat1" inherits="StatFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="16" y="-19"/>
					<Anchor point="RIGHT" x="-4"/>
				</Anchors>
			</Frame>
		</Frames>
	</Frame>
    <Frame name="MagicResistanceFrameTemplate" virtual="true">
        <Size>
            <AbsDimension x="32" y="29"/>
        </Size>
		<Scripts>
			<OnEnter>
				if ( self.tooltip ) then
					GameTooltip:SetOwner(self,"ANCHOR_RIGHT");
					GameTooltip:SetText(self.tooltip, 1.0,1.0,1.0);
					GameTooltip:AddLine(self.tooltipSubtext, NORMAL_FONT_COLOR.r, NORMAL_FONT_COLOR.g, NORMAL_FONT_COLOR.b, 1);
					GameTooltip:Show();
				end
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide();
			</OnLeave>
		</Scripts>
    </Frame>
    <Frame name="PaperDollFrame" setAllPoints="true" enableMouse="true" parent="CharacterFrame" useParentLevel="true" id="1">
        <HitRectInsets>
			<AbsInset left="0" right="30" top="0" bottom="45"/>
		</HitRectInsets>
		<Layers>
            <Layer level="ARTWORK">
                <FontString name="CharacterLevelText" inherits="GameFontNormalSmall" text="Level level race class">
                    <Anchors>
                        <Anchor point="TOP">
                            <Offset>
                                <AbsDimension x="0" y="-27"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
                <FontString name="CharacterTitleText" inherits="GameFontNormalSmall" text="title of the player" hidden="true">
                    <Anchors>
                        <Anchor point="TOP" relativeTo="CharacterLevelText" relativePoint="BOTTOM">
                            <Offset>
                                <AbsDimension x="0" y="-1"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
                <FontString name="CharacterGuildText" inherits="GameFontNormalSmall">
                    <Anchors>
                        <Anchor point="TOP" relativeTo="CharacterLevelText" relativePoint="BOTTOM">
                            <Offset>
                                <AbsDimension x="0" y="-1"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
			<Frame name="PlayerTitleFrame">
				<Size>
					<AbsDimension x="210" y="32"/>
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="CharacterLevelText" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="-5"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture name="$parentLeft" file="Interface\Glues\CharacterCreate\CharacterCreate-LabelFrame">
							<Size>
								<AbsDimension x="25" y="50"/>
							</Size>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="0" y="17"/>
									</Offset>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.1953125" top="0" bottom="1"/>
						</Texture>
						<Texture name="$parentMiddle" file="Interface\Glues\CharacterCreate\CharacterCreate-LabelFrame">
							<Size>
								<AbsDimension x="160" y="50"/>
							</Size>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
							</Anchors>
							<TexCoords left="0.1953125" right="0.8046875" top="0" bottom="1"/>
						</Texture>
						<Texture name="$parentRight" file="Interface\Glues\CharacterCreate\CharacterCreate-LabelFrame">
							<Size>
								<AbsDimension x="25" y="50"/>
							</Size>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentMiddle" relativePoint="RIGHT"/>
							</Anchors>
							<TexCoords left="0.8046875" right="1" top="0" bottom="1"/>
						</Texture>
						<FontString name="$parentText" inherits="GameFontHighlightSmall" justifyH="LEFT">
							<Size>
								<AbsDimension x="140" y="10"/>
							</Size>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentLeft">
									<Offset>
										<AbsDimension x="27" y="2"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Button name="$parentButton">
						<Size>
							<AbsDimension x="24" y="24"/>
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeTo="$parentRight">
								<Offset>
									<AbsDimension x="-16" y="-12"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlayerTitlePickerFrame_Toggle();								
							</OnClick>
						</Scripts>
						<NormalTexture name="$parentNormalTexture" file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Up">
							<Size>
								<AbsDimension x="24" y="24"/>
							</Size>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</NormalTexture>
						<PushedTexture name="$parentPushedTexture" file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Down">
							<Size>
								<AbsDimension x="24" y="24"/>
							</Size>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</PushedTexture>
						<HighlightTexture name="$parentHighlightTexture" file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD">
							<Size>
								<AbsDimension x="24" y="24"/>
							</Size>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</HighlightTexture>
					</Button>
				</Frames>
			</Frame>	
			<Frame name="PlayerTitlePickerFrame" hidden="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="PlayerTitleFrame" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="8" y="20"/>
						</Offset>
					</Anchor>
				</Anchors>				
				<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
					<BackgroundInsets>
						<AbsInset left="11" right="12" top="12" bottom="11"/>
					</BackgroundInsets>
					<TileSize>
						<AbsValue val="32"/>
					</TileSize>
					<EdgeSize>
						<AbsValue val="32"/>
					</EdgeSize>
				</Backdrop>				
				<Frames>
					<ScrollFrame name="PlayerTitlePickerScrollFrame" inherits="HybridScrollFrameTemplate">
						<Size>
							<AbsDimension x="100" y="16"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-15"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Frames>
							<Slider name="$parentScrollBar" inherits="HybridScrollBarTemplate" parentKey="scrollBar">
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
										<Offset x="0" y="-13"/>
									</Anchor>
									<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT">
										<Offset x="0" y="14"/>
									</Anchor>
								</Anchors>
							</Slider>
						</Frames>
						<Scripts>
							<OnLoad function="PlayerTitlePickerScrollFrame_OnLoad"/>
						</Scripts>
					</ScrollFrame>
				</Frames>
			</Frame>			
			<PlayerModel name="CharacterModelFrame" useParentLevel="true">
                <Size>
					<AbsDimension x="231" y="320"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                            <AbsDimension x="52" y="-68"/>
                        </Offset>
                    </Anchor>
                </Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="CharacterModelFrameBackgroundTopLeft">
							<Size  x="212" y="245"/>
							<TexCoords left="0.171875" right="1" top="0.0392156862745098" bottom="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" x="0" y="2"/>
							</Anchors>
						</Texture>
						<Texture name="CharacterModelFrameBackgroundTopRight">
							<Size x="19" y="245"/>
							<TexCoords left="0" right="0.83203125" top="0.0392156862745098" bottom="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="CharacterModelFrameBackgroundTopLeft" relativePoint="TOPRIGHT"/>
							</Anchors>
						</Texture>
						<Texture name="CharacterModelFrameBackgroundBotLeft">
							<Size x="212" y="128"/>
							<TexCoords left="0.171875" right="1" top="0" bottom="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="CharacterModelFrameBackgroundTopLeft" relativePoint="BOTTOMLEFT"/>
							</Anchors>
						</Texture>
						<Texture name="CharacterModelFrameBackgroundBotRight">
							<Size x="19" y="128"/>
							<TexCoords left="0" right="0.83203125" top="0" bottom="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="CharacterModelFrameBackgroundTopLeft" relativePoint="BOTTOMRIGHT"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="BORDER">
						<Texture name="CharacterModelFrameBackgroundOverlay">
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="CharacterModelFrameBackgroundTopLeft"/>
								<Anchor point="BOTTOMRIGHT" relativeTo="CharacterModelFrameBackgroundBotRight" x="0" y="52"/>
							</Anchors>
							<Color r="0" g="0" b="0"/>
						</Texture>
					</Layer>
				</Layers>
                <Scripts>
                    <OnLoad>
                        Model_OnLoad(self);
						self:RegisterEvent("DISPLAY_SIZE_CHANGED");
                    </OnLoad>
					<OnEvent>
						self:RefreshUnit();
					</OnEvent>
                    <OnUpdate function="Model_OnUpdate"/>
					<OnMouseUp function="CharacterModelFrame_OnMouseUp"/>
					<OnReceiveDrag function="CharacterModelFrame_OnMouseUp"/>
					<OnMouseWheel>
						if (not self.zoomLevel) then
							self.zoomLevel = 0;
						end
						self.zoomLevel = self.zoomLevel + delta*0.15;
						if (self.zoomLevel > 0.8) then
							self.zoomLevel = 0.8;
						end
						if (0 > self.zoomLevel) then
							self.zoomLevel = 0;
						end
						self:SetPortraitZoom(self.zoomLevel);
					</OnMouseWheel>
                </Scripts>
				<Frames>
					<Button name="CharacterModelFrameRotateLeftButton">
						<Size>
							<AbsDimension x="35" y="35"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" x="10" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self:RegisterForClicks("LeftButtonDown", "LeftButtonUp");
							</OnLoad>
							<OnClick>
								Model_RotateLeft(self:GetParent());
							</OnClick>
						</Scripts>
						<NormalTexture file="Interface\Buttons\UI-RotationLeft-Button-Up"/>
						<PushedTexture file="Interface\Buttons\UI-RotationLeft-Button-Down"/>
						<HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
					</Button>
					<Button name="CharacterModelFrameRotateRightButton">
						<Size>
							<AbsDimension x="35" y="35"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="CharacterModelFrameRotateLeftButton" relativePoint="TOPRIGHT"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self:RegisterForClicks("LeftButtonDown", "LeftButtonUp");
							</OnLoad>
							<OnClick>
								Model_RotateRight(self:GetParent());
							</OnClick>
						</Scripts>
						<NormalTexture file="Interface\Buttons\UI-RotationRight-Button-Up"/>
						<PushedTexture file="Interface\Buttons\UI-RotationRight-Button-Down"/>
						<HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
					</Button>
				</Frames>
            </PlayerModel>
            <Button name="CharacterHeadSlot" inherits="PaperDollItemSlotButtonLeftTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterFrameInset" x="4" y="-2"/>
                </Anchors>
            </Button>
            <Button name="CharacterNeckSlot" inherits="PaperDollItemSlotButtonLeftTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterHeadSlot" relativePoint="BOTTOMLEFT"  x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterShoulderSlot" inherits="PaperDollItemSlotButtonLeftTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterNeckSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterBackSlot" inherits="PaperDollItemSlotButtonLeftTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterShoulderSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterChestSlot" inherits="PaperDollItemSlotButtonLeftTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterBackSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterShirtSlot" inherits="PaperDollItemSlotButtonLeftTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterChestSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterTabardSlot" inherits="PaperDollItemSlotButtonLeftTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterShirtSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterWristSlot" inherits="PaperDollItemSlotButtonLeftTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterTabardSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterHandsSlot" inherits="PaperDollItemSlotButtonRightTemplate">
                <Anchors>
                    <Anchor point="TOPRIGHT" relativeTo="CharacterFrameInset" x="-4" y="-2"/>
                </Anchors>
            </Button>
            <Button name="CharacterWaistSlot" inherits="PaperDollItemSlotButtonRightTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterHandsSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterLegsSlot" inherits="PaperDollItemSlotButtonRightTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterWaistSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterFeetSlot" inherits="PaperDollItemSlotButtonRightTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterLegsSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterFinger0Slot" inherits="PaperDollItemSlotButtonRightTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterFeetSlot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterFinger1Slot" inherits="PaperDollItemSlotButtonRightTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterFinger0Slot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterTrinket0Slot" inherits="PaperDollItemSlotButtonRightTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterFinger1Slot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterTrinket1Slot" inherits="PaperDollItemSlotButtonRightTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterTrinket0Slot" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                </Anchors>
            </Button>
            <Button name="CharacterMainHandSlot" inherits="PaperDollItemSlotButtonBottomTemplate">
                <Anchors>
                    <Anchor point="BOTTOMLEFT" x="106" y="16"/>
                </Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture inherits="Char-Slot-Bottom-Left">
							<Anchors>
								<Anchor point="TOPRIGHT" relativeTo="$parentFrame" relativePoint="TOPLEFT"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
            </Button>
            <Button name="CharacterSecondaryHandSlot" inherits="PaperDollItemSlotButtonBottomTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterMainHandSlot" relativePoint="TOPRIGHT" x="5" y="0"/>
                </Anchors>
            </Button>
            <Button name="CharacterRangedSlot" inherits="PaperDollItemSlotButtonBottomTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CharacterSecondaryHandSlot" relativePoint="TOPRIGHT" x="5" y="0"/>
                </Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture inherits="Char-Slot-Bottom-Right">
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="$parentFrame" relativePoint="TOPRIGHT"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
            </Button>
			<Button name="GearManagerToggleButton" hidden="true">
				<Size x="32" y="32"/>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset x="-8" y="-28"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnEnter>
						GameTooltip_AddNewbieTip(self, EQUIPMENT_MANAGER, 1.0, 1.0, 1.0, NEWBIE_TOOLTIP_EQUIPMENT_MANAGER);
					</OnEnter>
					<OnLeave function="GameTooltip_Hide"/>
					<OnLoad>
						self.icon = _G[self:GetName() .. "Icon"];
					</OnLoad>
					<OnClick>
						if ( GearManagerDialog:IsShown() ) then
							GearManagerDialog:Hide();
						else
							GearManagerDialog:Show();
						end
					</OnClick>
				</Scripts>
				<NormalTexture file="Interface\PaperDollInfoFrame\UI-GearManager-Button"/>
				<PushedTexture file="Interface\PaperDollInfoFrame\UI-GearManager-Button-Pushed"/>
				<HighlightTexture file="Interface\Buttons\UI-MicroButton-Hilight" alphaMode="ADD">
					<TexCoords left="0" right="1" top="0.390625" bottom="0.96875"/>
				</HighlightTexture>
			</Button>
			<Button name="CharacterFrameExpandButton">
				<Size x="32" y="32"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInset" x="-2" y="-1"/>
				</Anchors>
				<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Up"/>
				<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Down"/>
				<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Disabled"/>
				<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
				<Scripts>
					<OnClick>
						if (CharacterFrame.Expanded) then
							SetCVar("characterFrameCollapsed", "1");
							PlaySound("igCharacterInfoClose");
							CharacterFrame_Collapse();
						else
							SetCVar("characterFrameCollapsed", "0");
							PlaySound("igCharacterInfoOpen");
							CharacterFrame_Expand();
						end
						if (GameTooltip:GetOwner() == self) then
							self:GetScript("OnEnter")(self);
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
						if (CharacterFrame.Expanded) then
							GameTooltip:SetText(HIGHLIGHT_FONT_COLOR_CODE..STATS_COLLAPSE_TOOLTIP..FONT_COLOR_CODE_CLOSE);
						else
							GameTooltip:SetText(HIGHLIGHT_FONT_COLOR_CODE..STATS_EXPAND_TOOLTIP..FONT_COLOR_CODE_CLOSE);
						end
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			
			<ScrollFrame name="CharacterStatsPane" hidden="true" inherits="UIPanelScrollFrameTemplate2">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="CharacterFrameInsetRight" x="4" y="-4"/>
					<Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInsetRight" x="-27" y="2"/>
				</Anchors>
				<ScrollChild>
					<Frame name="CharacterStatsPaneScrollChild">
						<Size x="170" y="0"/>
						<Anchors>
							<Anchor point="TOPLEFT"/>
						</Anchors>
						<Frames>
							<Frame name="CharacterStatsPaneCategory1" inherits="StatGroupTemplate"/>
							<Frame name="CharacterStatsPaneCategory2" inherits="StatGroupTemplate"/>
							<Frame name="CharacterStatsPaneCategory3" inherits="StatGroupTemplate"/>
							<Frame name="CharacterStatsPaneCategory4" inherits="StatGroupTemplate"/>
							<Frame name="CharacterStatsPaneCategory5" inherits="StatGroupTemplate"/>
							<Frame name="CharacterStatsPaneCategory6" inherits="StatGroupTemplate"/>
							<Frame name="CharacterStatsPaneCategory7" inherits="StatGroupTemplate"/>
						</Frames>
					</Frame>
				</ScrollChild>
				<Scripts>
					<OnLoad>
						--self.scrollBarHideable = 1;
						self.ScrollBar.scrollStep = 50;
						ScrollFrame_OnLoad(self);
						ScrollFrame_OnScrollRangeChanged(self);
					</OnLoad>
				</Scripts>
			</ScrollFrame>
		</Frames>
		<Layers>
			<Layer level="OVERLAY">
				<Texture name="PaperDollInnerBorderTopLeft" inherits="Char-Corner-UpperLeft">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="CharacterFrameInset" x="46" y="-4"/>
					</Anchors>
				</Texture>
				<Texture name="PaperDollInnerBorderTopRight" inherits="Char-Corner-UpperRight">
					<Anchors>
						<Anchor point="TOPRIGHT" relativeTo="CharacterFrameInset" x="-47" y="-4"/>
					</Anchors>
				</Texture>
				<Texture name="PaperDollInnerBorderBottomLeft" inherits="Char-Corner-LowerLeft">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativeTo="CharacterFrameInset" x="46" y="31"/>
					</Anchors>
				</Texture>
				<Texture name="PaperDollInnerBorderBottomRight" inherits="Char-Corner-LowerRight">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInset" x="-47" y="31"/>
					</Anchors>
				</Texture>
				<Texture name="PaperDollInnerBorderLeft" inherits="Char-Inner-Left">
					<Anchors>
						<Anchor point="TOPLEFT" relativeto="PaperDollInnerBorderTopLeft" relativePoint="BOTTOMLEFT" x="-1"/>
						<Anchor point="BOTTOMLEFT" relativeto="PaperDollInnerBorderBottomLeft" relativePoint="TOPLEFT" x="-1"/>
					</Anchors>
				</Texture>
				<Texture name="PaperDollInnerBorderRight" inherits="Char-Inner-Right">
					<Anchors>
						<Anchor point="TOPRIGHT" relativeto="PaperDollInnerBorderTopRight" relativePoint="BOTTOMRIGHT" x="1"/>
						<Anchor point="BOTTOMRIGHT" relativeto="PaperDollInnerBorderBottomRight" relativePoint="TOPRIGHT" x="1"/>
					</Anchors>
				</Texture>
				<Texture name="PaperDollInnerBorderTop" inherits="Char-Inner-Top">
					<Anchors>
						<Anchor point="TOPLEFT" relativeto="PaperDollInnerBorderTopLeft" relativePoint="TOPRIGHT" y="1"/>
						<Anchor point="TOPRIGHT" relativeto="PaperDollInnerBorderTopRight" relativePoint="TOPLEFT" y="1"/>
					</Anchors>
				</Texture>
				<Texture name="PaperDollInnerBorderBottom" inherits="Char-Inner-Bottom">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativeto="PaperDollInnerBorderBottomLeft" relativePoint="BOTTOMRIGHT" y="-1"/>
						<Anchor point="BOTTOMRIGHT" relativeto="PaperDollInnerBorderBottomRight" relativePoint="BOTTOMLEFT" y="-1"/>
					</Anchors>
				</Texture>
				<Texture name="PaperDollInnerBorderBottom2" inherits="Char-Inner-Bottom">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativeto="CharacterFrameInset" y="27"/>
						<Anchor point="BOTTOMRIGHT" relativeto="CharacterFrameInset" y="27"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
        <Scripts>
            <OnLoad function="PaperDollFrame_OnLoad"/>
            <OnEvent function="PaperDollFrame_OnEvent"/>
            <OnShow function="PaperDollFrame_OnShow"/>
			<OnHide function="PaperDollFrame_OnHide"/>
        </Scripts>
    </Frame>
	<Frame name="PaperDollFrameItemFlyout" parent="PaperDollFrame" hidden="true" enableMouse="false" frameStrata="HIGH">
		<Size x="43" y="43"/>
		<Layers>
			<Layer level="OVERLAY">
				<Texture name="$parentHighlight" file="Interface\PaperDollInfoFrame\UI-GearManager-ItemButton-Highlight">
					<Size x="50" y="50"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="-4" y="0"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="0.78125" top="0" bottom="0.78125"/>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="$parentButtons" frameStrata="HIGH" enableMouse="true" parentKey="buttonFrame" clampedToScreen="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
						<Offset x="0" y="0"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture parentKey="bg1" inherits="PaperDollFrameFlyoutTexture">
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="-5" y="4"/>
								</Anchor>
							</Anchors>
						</Texture>
					</Layer>					
				</Layers>
				<Scripts>
					<OnLoad>
						self.numBGs = 1;
					</OnLoad>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				self.buttons = {};
			</OnLoad>
			<OnUpdate function="PaperDollFrameItemFlyout_OnUpdate"/>
			<OnShow function="PaperDollFrameItemFlyout_OnShow"/>
			<OnHide function="PaperDollFrameItemFlyout_OnHide"/>
			<OnEvent function="PaperDollFrameItemFlyout_OnEvent"/>
		</Scripts>
	</Frame>
	
	<Frame name="GearManagerDialog" enableMouse="true" parent="PaperDollFrame" inherits="UIPanelDialogTemplate" hidden="true" frameStrata="MEDIUM" toplevel="true">
		<Size x="261" y="155"/>
		<Anchors>
			<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
				<Offset x="-8" y="-10"/>
			</Anchor>
		</Anchors>
		<Frames>
			<Frame name="SetContainer">
			
			</Frame>
			<Button name="$parentDeleteSet" text="DELETE" inherits="UIPanelButtonTemplate">
				<Size x="78" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset x="11" y="12"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick function="GearManagerDialogDeleteSet_OnClick"/>
				</Scripts>
			</Button>
			<Button name="$parentEquipSet" text="EQUIPSET_EQUIP" inherits="UIPanelButtonTemplate">
				<Size x="78" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset x="93" y="12"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick function="GearManagerDialogEquipSet_OnClick"/>
				</Scripts>
			</Button>
			<Button name="$parentSaveSet" text="SAVE" inherits="UIPanelButtonTemplate">
				<Size x="78" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset x="-8" y="12"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick function="GearManagerDialogSaveSet_OnClick"/>
				</Scripts>
			</Button>
			<Frame name="$parentPopup" hidden="true">
				<Size x="297" y="254"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT">
						<Offset x="0" y="-25"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\MacroFrame\MacroPopup-TopLeft">
							<Size x="256" y="212"/>
							<Anchors>
								<Anchor point="TOPLEFT"/>
							</Anchors>
							<TexCoords left="0" right="1" top="0" bottom="0.828125"/>
						</Texture>
						<Texture file="Interface\MacroFrame\MacroPopup-TopRight">
							<Size x="64" y="212"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="256" y="0"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="1" top="0" bottom="0.828125"/>
						</Texture>
						<Texture file="Interface\MacroFrame\MacroPopup-BotLeft">
							<Size x="256" y="64"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="0" y="-212"/>
								</Anchor>
							</Anchors>
						</Texture>
						<Texture file="Interface\MacroFrame\MacroPopup-BotRight">
							<Size x="64" y="64"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="256" y="-212"/>
								</Anchor>
							</Anchors>
						</Texture>
					</Layer>	
					<Layer level="ARTWORK">
						<FontString inherits="GameFontHighlightSmall" text="GEARSETS_POPUP_TEXT">
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="24" y="-21"/>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString inherits="GameFontHighlightSmall" text="MACRO_POPUP_CHOOSE_ICON">
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="24" y="-69"/>
								</Anchor>
							</Anchors>
						</FontString>					
					</Layer>
				</Layers>
				<Frames>
					<ScrollFrame name="$parentScrollFrame" inherits="FauxScrollFrameTemplate">
						<Size>
							<AbsDimension x="296" y="151"/>
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
								<Offset>
									<AbsDimension x="-39" y="-67"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
									<Size x="30" y="120"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
											<Offset x="-3" y="2"/>
										</Anchor>
									</Anchors>
									<TexCoords left="0" right="0.46875" top="0.0234375" bottom="0.9609375"/>
								</Texture>
								<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
									<Size x="30" y="79"/>
									<Anchors>
										<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT">
											<Offset x="-3" y="-2"/>
										</Anchor>
									</Anchors>
									<TexCoords left="0.53125" right="1.0" top="0.3828125" bottom="1.0"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnVerticalScroll>
								FauxScrollFrame_OnVerticalScroll(self, offset, GEARSET_ICON_ROW_HEIGHT, GearManagerDialogPopup_Update);
							</OnVerticalScroll>
						</Scripts>
					</ScrollFrame>				
					<EditBox name="$parentEditBox" letters="16" historyLines="0" autoFocus="true">
						<Size x="182" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset x="29" y="-35"/>
							</Anchor>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture name="$parentLeft" file="Interface\ClassTrainerFrame\UI-ClassTrainer-FilterBorder">
									<Size x="12" y="29"/>
									<Anchors>
										<Anchor point="TOPLEFT">
											<Offset x="-11" y="0"/>
										</Anchor>
									</Anchors>
									<TexCoords left="0" right="0.09375" top="0" bottom="1.0"/>
								</Texture>
								<Texture name="$parentMiddle" file="Interface\ClassTrainerFrame\UI-ClassTrainer-FilterBorder">
									<Size x="175" y="29"/>
									<Anchors>
										<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
									</Anchors>
									<TexCoords left="0.09375" right="0.90625" top="0" bottom="1.0"/>
								</Texture>
								<Texture name="$parentRight" file="Interface\ClassTrainerFrame\UI-ClassTrainer-FilterBorder">
									<Size x="12" y="29"/>
									<Anchors>
										<Anchor point="LEFT" relativeTo="$parentMiddle" relativePoint="RIGHT"/>
									</Anchors>
									<TexCoords left="0.90625" right="1.0" top="0" bottom="1.0"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnTextChanged>
								local text = self:GetText();
								if ( text ~= "" ) then
									GearManagerDialogPopup.name = text;
								else
									GearManagerDialogPopup.name = nil;
								end
								
								GearManagerDialogPopupOkay_Update();
							</OnTextChanged>
							<OnEscapePressed function="GearManagerDialogPopupCancel_OnClick"/>
							<OnEnterPressed>
								if ( GearManagerDialogPopupOkay:IsEnabled() ) then
									GearManagerDialogPopupOkay:Click();
								end
							</OnEnterPressed>
						</Scripts>
						<FontString inherits="ChatFontNormal"/>
					</EditBox>	
					<Button name="$parentCancel" inherits="UIPanelButtonTemplate" text="CANCEL">
						<Size x="78" y="22"/>
						<Anchors>
							<Anchor point="BOTTOMRIGHT">
								<Offset x="-11" y="13"/>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								GearManagerDialogPopupCancel_OnClick(self, button, pushed);
								PlaySound("gsTitleOptionOK");
							</OnClick>
						</Scripts>
					</Button>					
					<Button name="$parentOkay" inherits="UIPanelButtonTemplate" text="OKAY">
						<Size x="78" y="22"/>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentCancel" relativePoint="BOTTOMLEFT">
								<Offset x="-2" y="0"/>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								GearManagerDialogPopupOkay_OnClick(self, button, pushed);
								PlaySound("gsTitleOptionOK");
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
				<Scripts>
					<OnLoad function="GearManagerDialogPopup_OnLoad"/>
					<OnShow function="GearManagerDialogPopup_OnShow"/>
					<OnHide function="GearManagerDialogPopup_OnHide"/>
				</Scripts>				
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad function="GearManagerDialog_OnLoad"/>
			<OnShow function="GearManagerDialog_OnShow"/>
			<OnHide function="GearManagerDialog_OnHide"/>
			<OnEvent function="GearManagerDialog_OnEvent"/>
		</Scripts>
	</Frame>
</Ui>
