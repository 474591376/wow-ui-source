<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="UIParent.lua"/>
	<Frame name="UIParent" setAllPoints="true" protected="true" frameStrata="MEDIUM">
		<Attributes>
			<Attribute name="DEFAULT_FRAME_WIDTH" type="number" value="384"/>
			<Attribute name="TOP_OFFSET" type="number" value="-104"/>
			<Attribute name="LEFT_OFFSET" type="number" value="0"/>
			<Attribute name="CENTER_OFFSET" type="number" value="384"/>	<!-- Do not modify, updated by UpdateUIPanelPositions() -->
			<Attribute name="RIGHT_OFFSET" type="number" value="768"/>	<!-- Do not modify, updated by UpdateUIPanelPositions() -->
			<Attribute name="RIGHT_OFFSET_BUFFER" type="number" value="80"/>
		</Attributes>
		<Frames>
			<Frame name="UIParentAnimationFrame">	<!--Need a separate frame so that other animations traversing up the hierarchy don't find an active animation-->
				<Animations>
					<AnimationGroup name="AutoCompleteInfoDelayer">
						<Animation duration="15.0" order="1"> <!--We need the guild roster to be able to use guildy's names. But we don't want to request it on login when we're requesting everything else from the server, so we'll wait a bit-->
							<Scripts>
								<OnFinished>
									if ( IsInGuild() ) then
										GuildRoster();
									end
								</OnFinished>
							</Scripts>
						</Animation>
						<!--If you add another animation to this group, make sure that the order is also 1 so that they get played simultaneously.-->
						<Scripts>
							<OnLoad>
								self:Play();
							</OnLoad>
						</Scripts>
					</AnimationGroup>
				</Animations>
			</Frame>
		</Frames>
		<Scripts>
			<!-- Register here for any events you want to monitor globally -->
			<OnLoad>
				UIParent_OnLoad(self);
				self.firstTimeLoaded = 1;
			</OnLoad>
			<!-- Respond here to any events you want to monitor globally -->
			<OnEvent function="UIParent_OnEvent"/>
			<OnUpdate>
				FCF_OnUpdate(elapsed);
				ButtonPulse_OnUpdate(elapsed);
				UnitPopup_OnUpdate(elapsed);
				RequestBattlefieldPositions(elapsed);
				AnimatedShine_OnUpdate(elapsed);
				AutoCastShine_OnUpdate(nil, elapsed);
			</OnUpdate>
			<!-- used to properly hide and show certain frames when the UI is toggled on and off -->
			<OnShow>
				if ( self.firstTimeLoaded ~= 1 ) then
					CloseAllWindows();
					self.firstTimeLoaded = nil;
				end
			</OnShow>
			<OnAttributeChanged function="UpdateUIPanelPositions"/>
		</Scripts>
	</Frame>
</Ui>
