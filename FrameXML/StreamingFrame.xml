<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="StreamingFrame.lua"/>
	<Frame name="StreamingIcon" toplevel="true" parent="UIParent" alpha="0" >
		<Size x="64" y="64"/>
		<Frames>
            <Frame name="$parentFrame" setAllPoints="true" >
				<Layers>
					<Layer level="BACKGROUND" sublevel="1">
						<Texture file="Interface\COMMON\StreamBackground" name="$parentBackground">
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture file="Interface\COMMON\StreamFrame" name="$parenAlpha">
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="$parentSpin" setAllPoints="true" >
				<Layers>
					<Layer level="BACKGROUND" sublevel="2"  >
						<Texture file="Interface\COMMON\StreamCircle" name="$parentSpinner">
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture file="Interface\COMMON\StreamSpark">
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
        <Scripts>
            <OnEnter>
                if(self.tooltip ~= nil) then
					GameTooltip:SetOwner(self, "ANCHOR_LEFT");
                    GameTooltip:SetText(self.tooltip, nil, nil, nil, nil, 1);
                end
            </OnEnter>
            <OnLeave function="GameTooltip_Hide"/>
			<OnLoad function="StreamingIcon_OnLoad"/>
 			<OnEvent function="StreamingIcon_OnEvent"/>
			<OnShow>
				StreamingIcon.Loop:Stop();
				StreamingIcon.Anim:Play();
				UIParent_ManageFramePositions();
			</OnShow>
			<OnHide>
				StreamingIcon.Loop:Stop();
				StreamingIcon.Anim:Stop();
				UIParent_ManageFramePositions();
			</OnHide>
		</Scripts>
		<Animations>
			<AnimationGroup parentKey="Anim">
				<Alpha order="1" change="1" duration="2" />
				<Scripts>
					<OnPlay>
						StreamingIcon:SetAlpha(0);
					</OnPlay>
					<OnFinished>
						StreamingIcon:SetAlpha(1);
						StreamingIcon.Loop:Play();
					</OnFinished>
				</Scripts>
			</AnimationGroup>
			<AnimationGroup parentKey="Loop" looping="REPEAT" >
				<Rotation target="StreamingIconSpin" order="1" duration="8" degrees="-360" />
			</AnimationGroup>
		</Animations>
	</Frame>
	<Frame name="StreamingIconTimer" toplevel="true" parent="UIParent" alpha="0" >
		<Animations>
			<AnimationGroup parentKey="Counter">
				<Alpha order="1" change="0" duration="0" startDelay="2" />
				<Scripts>
					<OnFinished>
						StreamingIcon:Show();
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations>
	</Frame>
</Ui>




