<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
C:\Projects\WoW\Bin\Interface\FrameXML\UI.xsd">
 <Script file="DressUpFrame.lua"/>
 <Frame name="DressUpFrame" enableMouse="true" parent="UIParent" hidden="true">
	<Size>
		<AbsDimension x="384" y="512"/>
	</Size>
	<Anchors>
		<Anchor point="TOPLEFT">
			<Offset>
				<AbsDimension x="512" y="-104"/>
			</Offset>
		</Anchor>
	</Anchors>
	<HitRectInsets>
		<AbsInset left="0" right="30" top="0" bottom="45"/>
	</HitRectInsets>
	<Layers>
        <Layer level="BACKGROUND">
            <Texture name="DressUpFramePortrait">
                <Size>
                    <AbsDimension x="60" y="60"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                            <AbsDimension x="7" y="-6"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
		<Layer level="ARTWORK">
			<Texture file="Interface\PaperDollInfoFrame\UI-Character-General-TopLeft">
				<Size>
					<AbsDimension x="256" y="256"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT"/>
				</Anchors>
			</Texture>
			<Texture file="Interface\PaperDollInfoFrame\UI-Character-General-TopRight">
				<Size>
					<AbsDimension x="128" y="256"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="256" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Texture>
			<Texture file="Interface\PaperDollInfoFrame\SkillFrame-BotLeft">
				<Size>
					<AbsDimension x="256" y="256"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="0" y="-256"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Texture>
			<Texture file="Interface\PaperDollInfoFrame\SkillFrame-BotRight">
				<Size>
					<AbsDimension x="128" y="256"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="256" y="-256"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Texture>
			<FontString name="DressUpFrameTitleText" inherits="GameFontHighlight" text="DRESSUP_FRAME">
				<Size>
					<AbsDimension x="300" y="14"/>
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="TOP">
						<Offset>
							<AbsDimension x="0" y="-17"/>
						</Offset>
					</Anchor>
				</Anchors>
			</FontString>
			<FontString name="DressUpFrameDescriptionText" inherits="GameFontNormalSmall" text="DRESSUP_FRAME_INSTRUCTIONS">
				<Size>
					<AbsDimension x="260" y="36"/>
				</Size>
				<Anchors>
					<Anchor point="CENTER" relativeTo="DressUpFrameTitleText" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="10" y="-22"/>
						</Offset>
					</Anchor>
				</Anchors>
			</FontString>
		</Layer>
		<Layer level="OVERLAY">
			<Texture name="DressUpBackgroundTopLeft">
				<Size>
					<AbsDimension x="256" y="255"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="22" y="-76"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Texture>
			<Texture name="DressUpBackgroundTopRight">
				<Size>
					<AbsDimension x="62" y="255"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="DressUpBackgroundTopLeft" relativePoint="TOPRIGHT"/>
				</Anchors>
			</Texture>
			<Texture name="DressUpBackgroundBotLeft">
				<Size>
					<AbsDimension x="256" y="128"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="DressUpBackgroundTopLeft" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Texture>
			<Texture name="DressUpBackgroundBotRight">
				<Size>
					<AbsDimension x="62" y="128"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="DressUpBackgroundTopLeft" relativePoint="BOTTOMRIGHT"/>
				</Anchors>
			</Texture>
		</Layer>
	</Layers>
	<Frames>
        <Button name="DressUpFrameCloseButton" inherits="UIPanelCloseButton">
            <Anchors>
                <Anchor point="CENTER" relativePoint="TOPRIGHT">
                    <Offset>
                        <AbsDimension x="-46" y="-25"/>
                    </Offset>
                </Anchor>
            </Anchors>
        </Button>
		<Button name="DressUpFrameCancelButton" inherits="UIPanelButtonTemplate" text="CLOSE">
			<Size>
				<AbsDimension x="80" y="22"/>
			</Size>
			<Anchors>
				<Anchor point="CENTER" relativePoint="TOPLEFT">
					<Offset>
						<AbsDimension x="305" y="-422"/>
					</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnClick>
					HideUIPanel(this:GetParent());
				</OnClick>
			</Scripts>
		</Button>
		<Button name="DressUpFrameResetButton" inherits="UIPanelButtonTemplate" text="RESET">
			<Size>
				<AbsDimension x="80" y="22"/>
			</Size>
			<Anchors>
				<Anchor point="RIGHT" relativeTo="DressUpFrameCancelButton" relativePoint="LEFT">
					<Offset>
						<AbsDimension x="0" y="0"/>
					</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnClick>
					DressUpModel:Dress();
				</OnClick>
			</Scripts>
		</Button>
		<DressUpModel name="DressUpModel" scale="2.0">
			<Size>
				<AbsDimension x="316" y="351"/>
			</Size>
			<Anchors>
				<Anchor point="BOTTOM">
					<Offset>
						<AbsDimension x="-11" y="85"/>
					</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
                <OnLoad>
                    Model_OnLoad();
					this:RegisterEvent("DISPLAY_SIZE_CHANGED");
					this:RegisterEvent("UNIT_MODEL_CHANGED");
                </OnLoad>
				<OnEvent>
					if ( this:IsVisible() ) then
						this:RefreshUnit();
					end
				</OnEvent>
                <OnUpdate>
					Model_OnUpdate(arg1, this);
                </OnUpdate>
            </Scripts>
			<Frames>
				<Button name="DressUpModelRotateLeftButton">
					<Size>
						<AbsDimension x="35" y="35"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="DressUpFrame">
							<Offset>
								<AbsDimension x="21" y="-75"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Scripts>
						<OnLoad>
							this:RegisterForClicks("LeftButtonDown", "LeftButtonUp");
						</OnLoad>
						<OnClick>
							Model_RotateLeft(this:GetParent());
						</OnClick>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-RotationLeft-Button-Up"/>
					<PushedTexture file="Interface\Buttons\UI-RotationLeft-Button-Down"/>
					<HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
				</Button>
				<Button name="DressUpModelRotateRightButton">
					<Size>
						<AbsDimension x="35" y="35"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="DressUpModelRotateLeftButton" relativePoint="TOPRIGHT"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							this:RegisterForClicks("LeftButtonDown", "LeftButtonUp");
						</OnLoad>
						<OnClick>
							Model_RotateRight(this:GetParent());
						</OnClick>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-RotationRight-Button-Up"/>
					<PushedTexture file="Interface\Buttons\UI-RotationRight-Button-Down"/>
					<HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
				</Button>
			</Frames>
		</DressUpModel>
	</Frames>
    <Scripts>
        <OnLoad>
			this:RegisterEvent("PLAYER_ENTERING_WORLD");
			SetDressUpBackground();
		</OnLoad>
        <OnEvent>
			if ( event == "PLAYER_ENTERING_WORLD" ) then
				DressUpModel:SetUnit("player");
				return;
			end
        </OnEvent>
		<OnShow>
			SetPortraitTexture(DressUpFramePortrait, "player");
			PlaySound("igCharacterInfoOpen");
		</OnShow>
		<OnHide>
			PlaySound("igCharacterInfoClose");
		</OnHide>
    </Scripts>
</Frame>
<Frame name="AuctionDressUpFrame" toplevel="true" parent="UIParent" enableMouse="true" hidden="true">
	<Size>
		<AbsDimension x="187" y="389"/>
	</Size>
	<Anchors>
		<Anchor point="TOPLEFT" relativeTo="AuctionFrame" relativePoint="TOPRIGHT">
			<Offset>
				<AbsDimension x="-2" y="-28"/>
			</Offset>
		</Anchor>
	</Anchors>
	<Layers>
		<Layer level="BACKGROUND">
			<Texture name="AuctionDressUpFrameTop" file="Interface\AuctionFrame\AuctionHouseDressUpFrame-Top">
				<Size>
					<AbsDimension x="256" y="256"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT"/>
				</Anchors>
			</Texture>
			<Texture file="Interface\AuctionFrame\AuctionHouseDressUpFrame-Bottom">
				<Size>
					<AbsDimension x="256" y="256"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="AuctionDressUpFrameTop" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Texture>
		</Layer>
		<Layer level="ARTWORK">
			<Texture name="AuctionDressUpBackgroundTop">
				<Size>
					<AbsDimension x="171" y="282"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-14"/>
						</Offset>
					</Anchor>
				</Anchors>
				<TexCoords left="0" right="0.61" top="0" bottom="1.0"/>
			</Texture>
			<Texture name="AuctionDressUpBackgroundBot">
				<Size>
					<AbsDimension x="171" y="83"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="AuctionDressUpBackgroundTop" relativePoint="BOTTOMLEFT"/>
				</Anchors>
				<TexCoords left="0" right="0.61" top="0" bottom="0.588"/>
			</Texture>
		</Layer>
	</Layers>
	<Frames>
		<DressUpModel name="AuctionDressUpModel" scale="1.0">
			<Size>
				<AbsDimension x="172" y="400"/>
			</Size>
			<Anchors>
				<Anchor point="BOTTOM">
					<Offset>
						<AbsDimension x="-3" y="-20"/>
					</Offset>
				</Anchor>
			</Anchors>
                <Scripts>
                <OnLoad>
                    Model_OnLoad();
					this:RegisterEvent("DISPLAY_SIZE_CHANGED");
					this:RegisterEvent("UNIT_MODEL_CHANGED");
                </OnLoad>
				<OnEvent>
					if ( this:IsVisible() ) then
						this:RefreshUnit();
					end
				</OnEvent>
                <OnUpdate>
					Model_OnUpdate(arg1, this);
                </OnUpdate>
            </Scripts>
			<Frames>
				<Button name="AuctionDressUpModelRotateLeftButton">
					<Size>
						<AbsDimension x="35" y="35"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="AuctionDressUpFrame">
							<Offset>
								<AbsDimension x="3" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Scripts>
						<OnLoad>
							this:RegisterForClicks("LeftButtonDown", "LeftButtonUp");
						</OnLoad>
						<OnClick>
							Model_RotateLeft(this:GetParent());
						</OnClick>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-RotationLeft-Button-Up"/>
					<PushedTexture file="Interface\Buttons\UI-RotationLeft-Button-Down"/>
					<HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
				</Button>
				<Button name="AuctionDressUpModelRotateRightButton">
					<Size>
						<AbsDimension x="35" y="35"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="AuctionDressUpModelRotateLeftButton" relativePoint="TOPRIGHT"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							this:RegisterForClicks("LeftButtonDown", "LeftButtonUp");
						</OnLoad>
						<OnClick>
							Model_RotateRight(this:GetParent());
						</OnClick>
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-RotationRight-Button-Up"/>
					<PushedTexture file="Interface\Buttons\UI-RotationRight-Button-Down"/>
					<HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
				</Button>
				<Button name="AuctionDressUpFrameResetButton" inherits="UIPanelButtonTemplate" text="RESET">
					<Size>
						<AbsDimension x="80" y="22"/>
					</Size>
					<Anchors>
						<Anchor point="BOTTOM">
							<Offset>
								<AbsDimension x="0" y="40"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Scripts>
						<OnClick>
							AuctionDressUpModel:Dress();
						</OnClick>
					</Scripts>
				</Button>
				<Button name="AuctionDressUpFrameCloseButton" inherits="UIPanelCloseButton">
					<Anchors>
						<Anchor point="CENTER" relativeTo="AuctionDressUpFrame" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="-15" y="-16"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Layers>
						<Layer level="BACKGROUND">
							<Texture file="Interface\AuctionFrame\AuctionHouseDressUpFrame-Corner">
								<Size>
									<AbsDimension x="32" y="32"/>
								</Size>
								<Anchors>
									<Anchor point="TOPRIGHT" relativeTo="AuctionDressUpFrame">
										<Offset>
											<AbsDimension x="-5" y="-5"/>
										</Offset>
									</Anchor>
								</Anchors>
							</Texture>
						</Layer>
					</Layers>
					<Scripts>
						<OnClick>
							HideUIPanel(this:GetParent():GetParent());
						</OnClick>
					</Scripts>
				</Button>
			</Frames>
		</DressUpModel>
	</Frames>
	<Scripts>
		<OnLoad>
			this:RegisterEvent("PLAYER_ENTERING_WORLD");
			SetDressUpBackground(1);
        </OnLoad>
        <OnEvent>
			if ( event == "PLAYER_ENTERING_WORLD" ) then
				AuctionDressUpModel:SetUnit("player");
				return;
			end
        </OnEvent>
		<OnShow>
			PlaySound("igCharacterInfoOpen");
		</OnShow>
		<OnHide>
			PlaySound("igCharacterInfoClose");
		</OnHide>
	</Scripts>
</Frame>
</Ui>
